.takeoff-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.65);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
  pointer-events: none;
  opacity: 0;
}

.takeoff-overlay.active {
  animation: overlay-fade 4.6s ease forwards;
}

.takeoff-image {
  max-height: 80vh;
  max-width: 90vw;
  transform: scale(0);
  border: 7px solid white;
  border-radius: 40px;
}

/* === FAZA 1 + 2 + 3 === */
.takeoff-overlay.active .takeoff-image {
  animation:
    takeoff-scale-in 0.6s ease-out forwards,
    takeoff-hold 2s ease forwards 0.6s,
    takeoff-exit 2s cubic-bezier(0.2, 0.9, 0.3, 1.3) forwards 2.6s;
}

/* ===== KIERUNKI UCIECZKI ===== */

.exit-top-left .takeoff-image {
  --tx: -120vw;
  --ty: -120vh;
}

.exit-top-right .takeoff-image {
  --tx: 120vw;
  --ty: -120vh;
}

.exit-bottom-left .takeoff-image {
  --tx: -120vw;
  --ty: 120vh;
}

.exit-bottom-right .takeoff-image {
  --tx: 120vw;
  --ty: 120vh;
}

.exit-top .takeoff-image {
  --tx: 0;
  --ty: -120vh;
}

.exit-right .takeoff-image {
  --tx: 120vw;
  --ty: 0;
}

/* ===== KEYFRAMES ===== */

@keyframes takeoff-scale-in {
  from {
    transform: scale(0);
  }
  to {
    transform: scale(1);
  }
}

@keyframes takeoff-hold {
  from {
    transform: scale(1);
  }
  to {
    transform: scale(1);
  }
}

@keyframes takeoff-exit {
  from {
    transform: scale(1) rotate(0deg) translate(0, 0);
  }
  to {
    transform: translate(var(--tx), var(--ty)) scale(0.6) rotate(1080deg);
  }
}

@keyframes overlay-fade {
  0% {
    opacity: 1;
  }
  80% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}
